<?xml version="1.0" ?>
<shadow>
	<kill time="18000"/>
	<topology path="~/.shadow/share/topology.graphml.xml"/>
	<plugin id="hello" path="~/.shadow/plugins/libshadow-plugin-hello.so"/>
	<plugin id="tor" path="~/.shadow/plugins/libshadow-plugin-tor.so"/>
	<plugin id="torctl" path="~/.shadow/plugins/libshadow-plugin-torctl.so"/>
	<plugin id="tproxy" path="~/.shadow/plugins/libshadow-plugin-tproxy.so"/>
	<plugin id="loggerserver" path="~/.shadow/plugins/libshadow-plugin-loggerserver.so"/>
	<node bandwidthdown="10240" bandwidthup="10240" geocodehint="AL" id="4uthority1">
		<application arguments="dirauth 1024 --quiet --Address ${NODEID} --Nickname ${NODEID} --DataDirectory ./data/${NODEID} --GeoIPFile ~/.shadow/share/geoip --BandwidthRate 1024000 --BandwidthBurst 1024000 --ControlPort 9051 -f ./dirauth.torrc --V3BandwidthsFile ./data/${NODEID}/dirauth.v3bw" plugin="tor" time="1"/>
		<application arguments="localhost 9051 STREAM,CIRC,CIRC_MINOR,ORCONN,BW,STREAM_BW,CIRC_BW,CONN_BW,BUILDTIMEOUT_SET,CLIENTS_SEEN,GUARD,CELL_STATS,TB_EMPTY" plugin="torctl" time="2"/>
	</node>
	<node bandwidthdown="10240" bandwidthup="10240" geocodehint="CA" id="4uthority2">
		<application arguments="dirauth 1024 --quiet --Address ${NODEID} --Nickname ${NODEID} --DataDirectory ./data/${NODEID} --GeoIPFile ~/.shadow/share/geoip --BandwidthRate 1024000 --BandwidthBurst 1024000 --ControlPort 9051 -f ./dirauth.torrc --V3BandwidthsFile ./data/${NODEID}/dirauth.v3bw" plugin="tor" time="1"/>
		<application arguments="localhost 9051 STREAM,CIRC,CIRC_MINOR,ORCONN,BW,STREAM_BW,CIRC_BW,CONN_BW,BUILDTIMEOUT_SET,CLIENTS_SEEN,GUARD,CELL_STATS,TB_EMPTY" plugin="torctl" time="2"/>
	</node>
	<node bandwidthdown="10240" bandwidthup="10240" geocodehint="RS" id="relay0">
		<application arguments="relay 1024 --quiet --Address ${NODEID} --Nickname ${NODEID} --DataDirectory ./data/${NODEID} --GeoIPFile ~/.shadow/share/geoip --BandwidthRate 1024000 --BandwidthBurst 1024000 --ControlPort 9051 -f ./relay.torrc" plugin="tor" time="1"/>
		<application arguments="localhost 9051 STREAM,CIRC,CIRC_MINOR,ORCONN,BW,STREAM_BW,CIRC_BW,CONN_BW,BUILDTIMEOUT_SET,CLIENTS_SEEN,GUARD,CELL_STATS,TB_EMPTY" plugin="torctl" time="2"/>
	</node>
	<node bandwidthdown="10240" bandwidthup="10240" geocodehint="TH" id="relay1">
		<application arguments="relay 1024 --quiet --Address ${NODEID} --Nickname ${NODEID} --DataDirectory ./data/${NODEID} --GeoIPFile ~/.shadow/share/geoip --BandwidthRate 1024000 --BandwidthBurst 1024000 --ControlPort 9051 -f ./relay.torrc" plugin="tor" time="1"/>
		<application arguments="localhost 9051 STREAM,CIRC,CIRC_MINOR,ORCONN,BW,STREAM_BW,CIRC_BW,CONN_BW,BUILDTIMEOUT_SET,CLIENTS_SEEN,GUARD,CELL_STATS,TB_EMPTY" plugin="torctl" time="2"/>
	</node>
	<node bandwidthdown="10240" bandwidthup="10240" geocodehint="KN" id="relay2">
		<application arguments="relay 1024 --quiet --Address ${NODEID} --Nickname ${NODEID} --DataDirectory ./data/${NODEID} --GeoIPFile ~/.shadow/share/geoip --BandwidthRate 1024000 --BandwidthBurst 1024000 --ControlPort 9051 -f ./relay.torrc" plugin="tor" time="1"/>
		<application arguments="localhost 9051 STREAM,CIRC,CIRC_MINOR,ORCONN,BW,STREAM_BW,CIRC_BW,CONN_BW,BUILDTIMEOUT_SET,CLIENTS_SEEN,GUARD,CELL_STATS,TB_EMPTY" plugin="torctl" time="2"/>
	</node>
	<node bandwidthdown="10240" bandwidthup="10240" geocodehint="CH" id="relay3">
		<application arguments="relay 1024 --quiet --Address ${NODEID} --Nickname ${NODEID} --DataDirectory ./data/${NODEID} --GeoIPFile ~/.shadow/share/geoip --BandwidthRate 1024000 --BandwidthBurst 1024000 --ControlPort 9051 -f ./relay.torrc" plugin="tor" time="1"/>
		<application arguments="localhost 9051 STREAM,CIRC,CIRC_MINOR,ORCONN,BW,STREAM_BW,CIRC_BW,CONN_BW,BUILDTIMEOUT_SET,CLIENTS_SEEN,GUARD,CELL_STATS,TB_EMPTY" plugin="torctl" time="2"/>
	</node>
	<node bandwidthdown="10240" bandwidthup="10240" geocodehint="AX" id="relay4">
		<application arguments="relay 1024 --quiet --Address ${NODEID} --Nickname ${NODEID} --DataDirectory ./data/${NODEID} --GeoIPFile ~/.shadow/share/geoip --BandwidthRate 1024000 --BandwidthBurst 1024000 --ControlPort 9051 -f ./relay.torrc" plugin="tor" time="1"/>
		<application arguments="localhost 9051 STREAM,CIRC,CIRC_MINOR,ORCONN,BW,STREAM_BW,CIRC_BW,CONN_BW,BUILDTIMEOUT_SET,CLIENTS_SEEN,GUARD,CELL_STATS,TB_EMPTY" plugin="torctl" time="2"/>
	</node>
	<node bandwidthdown="10240" bandwidthup="10240" geocodehint="GU" id="exit0">
		<application arguments="exitrelay 1024 --quiet --Address ${NODEID} --Nickname ${NODEID} --DataDirectory ./data/${NODEID} --GeoIPFile ~/.shadow/share/geoip --BandwidthRate 1024000 --BandwidthBurst 1024000 --ControlPort 9051 -f ./exitrelay.torrc" plugin="tor" time="1"/>
		<application arguments="localhost 9051 STREAM,CIRC,CIRC_MINOR,ORCONN,BW,STREAM_BW,CIRC_BW,CONN_BW,BUILDTIMEOUT_SET,CLIENTS_SEEN,GUARD,CELL_STATS,TB_EMPTY" plugin="torctl" time="2"/>
	</node>
	<node bandwidthdown="10240" bandwidthup="10240" geocodehint="SV" id="exit1">
		<application arguments="exitrelay 1024 --quiet --Address ${NODEID} --Nickname ${NODEID} --DataDirectory ./data/${NODEID} --GeoIPFile ~/.shadow/share/geoip --BandwidthRate 1024000 --BandwidthBurst 1024000 --ControlPort 9051 -f ./exitrelay.torrc" plugin="tor" time="1"/>
		<application arguments="localhost 9051 STREAM,CIRC,CIRC_MINOR,ORCONN,BW,STREAM_BW,CIRC_BW,CONN_BW,BUILDTIMEOUT_SET,CLIENTS_SEEN,GUARD,CELL_STATS,TB_EMPTY" plugin="torctl" time="2"/>
	</node>

	<node geocodehint="MU" id="loggerserver">
		<application plugin="loggerserver" time="600" arguments="any:50005 shadow.data/connections.log"/>
	</node>
	<node geocodehint="KE" id="server0">
		<application plugin="hello" time="10" arguments=""/>
	</node>
	<node geocodehint="JM" id="server1">
		<application plugin="tproxy" time="9" arguments="any:50000 localhost:12345 loggerserver:50005 server"/>
		<application plugin="hello" time="10" arguments=""/>
	</node>
	<node geocodehint="PH" id="client0">
		<application plugin="tor" time="1300" arguments="client 1024 --quiet --Address ${NODEID} --Nickname ${NODEID} --DataDirectory ./data/${NODEID} --GeoIPFile ~/.shadow/share/geoip --BandwidthRate 1024000 --BandwidthBurst 1024000 --ControlPort 9051 -f ./client.torrc"/>
		<application plugin="torctl" time="1301" arguments="localhost 9051 STREAM,CIRC,CIRC_MINOR,ORCONN,BW,STREAM_BW,CIRC_BW,CONN_BW,BUILDTIMEOUT_SET,CLIENTS_SEEN,GUARD,CELL_STATS,TB_EMPTY"/>
		<application plugin="tproxy" time="1399" arguments="localhost:12345 localhost:9000 loggerserver:50005"/>
		<application plugin="hello" time="1400" arguments="localhost"/>
	</node>
	<node geocodehint="TZ" id="client1">
		<application plugin="tor" time="1302" arguments="client 1024 --quiet --Address ${NODEID} --Nickname ${NODEID} --DataDirectory ./data/${NODEID} --GeoIPFile ~/.shadow/share/geoip --BandwidthRate 1024000 --BandwidthBurst 1024000 --ControlPort 9051 -f ./client.torrc"/>
		<application plugin="torctl" time="1303" arguments="localhost 9051 STREAM,CIRC,CIRC_MINOR,ORCONN,BW,STREAM_BW,CIRC_BW,CONN_BW,BUILDTIMEOUT_SET,CLIENTS_SEEN,GUARD,CELL_STATS,TB_EMPTY"/>
		<application plugin="tproxy" time="1401" arguments="localhost:12345 localhost:9000 loggerserver:50005" />
		<application plugin="hello" time="1402" arguments="localhost" />
	</node>
</shadow>

